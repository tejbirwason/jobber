from typing import List

from pydantic import BaseModel

sample_jobs = [
    {
        "company_link": "https://www.dice.com/company/cxhlnc?companyname=Yoh%20-%20A%20Day%20%26%20Zimmerman%20Company",
        "location": "Remote or Nantou County, Taiwan",
        "timestamp": "2024-07-18 22:18:36.868761",
        "posted_date": "Posted 6 hours ago",
        "employment_type": "Full-time",
        "company_image": "https://d3qscgr6xsioh.cloudfront.net/WieLG74uTrWnsRB8I5ud_0a3f6c37697252d795992679076a2678.png?format=webp",
        "company": "Yoh - A Day & Zimmerman Company",
        "link": "https://www.dice.com/job-detail/5b997e14-1e17-4bce-a78d-60b460279f35",
        "description": "Materials Program Manager (MPM) - Taiwan\nLooking for a solid Materials Program Manager to support an autonomous vehicle companies Supply Chain department. This person should have a background in materials planning and understand the key vendors involved in electronics components, mechanical components, automotive components, etc.\nThe key responsibility for this job will be\nmanual demand planning (Manual MRP experience)\n. There is no SAP, ERP, or SW suite that will be utilized, this is all\nmanual production planning/Manual MRP s\nthrough Excel/GSheets, so advanced Excel or GSheet s experience is a must have.\nScope:\nStrong understanding of the\nClear To Build\nreport AKA\nCTB\n. Some companies call it a\nshortage report or build status report\n. This is the MPM's primary task which will be focused on. Note: CTB  Clear to Build  is essentially an\nMRP\n.\nBuilding stuff in batches/batch building aka Batch Production, job production, lot production, etc. are all additional terms associated with CTB/MRP s.\nExperience with\nManual Demand Planning\n,\nManual Production Planning\n,\nManual MRP\nis the key requirement.\nDegree in Supply Chain or similar is ideal.\nAnalyze manufacturing build plans against inventory/supply chain data in order to determine demand for materials replenishment.\nRetrieve quotes from suppliers & submit PO s.\nManage delivery schedules in order to ensure materials arrive ahead of required dates.\nTrack/Mitigate Excess and Obsolescence.\nRequired:\nStrong understanding of the\nClear To Build\nreport AKA\nCTB\n. Some companies call it a\nshortage report or build status report\n. Note: CTB  Clear to Build  is essentially an\nMRP\n.\nBuilding stuff in batches/batch building aka Batch Production, job production, lot production, etc. are all additional terms associated with CTB/MRP s.\nExperience with\nManual Demand Planning\n,\nManual Production Planning\n,\nManual MRP\nis the key requirement.\nAdvanced spreadsheet / Excel skills; Ability to generate complex dashboards, tools, and reports. Experience with excel formulas like - VLOOKUP, SUMIF, COUNTIF, IFERROR, INDEX, MATCH, MIN, etc.\nSolid experience working as a Materials PM, Buyer/Planner, Materials Planners, or similar.\nUnderstand how to read and understand bill of materials (BOM s) and manage inventory accuracy.\nStrong knowledge of MRP (Materials Requirements Planning) system functionality.\nEstimated Min Rate\n: $NaN\nEstimated Max Rate\n: $NaN\nNote: Any pay ranges displayed are estimations.  Actual pay is determined by an applicant's experience, technical expertise, and other qualifications as listed in the job description.  All qualified applicants are welcome to apply.\nYoh, a Day & Zimmermann company, is an Equal Opportunity Employer. All qualified applicants will receive consideration for employment without regard to race, color, religion, sex, sexual orientation, gender identity, national origin, disability, or status as a protected veteran.\nVisit\nto contact us if you are an individual with a disability and require accommodation in the application process.",
        "id": "dice_5b997e14-1e17-4bce-a78d-60b460279f35",
        "title": "Materials Program Manager (MPM) - Taiwan",
    },
    {
        "company_link": "https://www.dice.com/company/10217011?companyname=Trimble%20Mobile%20Solutions",
        "location": "Remote or Ohio, USA",
        "timestamp": "2024-07-18 22:12:43.238906",
        "posted_date": "Posted 12 hours ago",
        "employment_type": "Full-time",
        "company_image": "https://assets.dice.com/external/images/empLogos/42652largeLogo.gif",
        "company": "Trimble Mobile Solutions",
        "link": "https://www.dice.com/job-detail/6f2250fb-5309-4308-ac8d-acc93878faf3",
        "description": "Position Overview\nWe are seeking an experienced Front-End Engineer to join our team. If you are passionate about simplifying complex problems, love the React ecosystem, and value good front-end architecture, this role is for you. As a Front-End Engineer, you will play a pivotal role in our team, focusing on the development of new features, maintaining the application, debugging, and problem-solving. You will also be responsible for ensuring the quality of new features. This position offers an excellent opportunity to deepen and expand your knowledge of front-end development, particularly in React and TypeScript. We are looking for a high-energy, hard-working, and enthusiastic individual who is ready to contribute significantly to our rapidly growing code base. If you are eager to make a substantial impact in one of the world's largest industries, we would love to hear from you.\nWhat You Will Do\nDevelop and maintain and scale our main UI application using React and TypeScript\nCollaborate with design and product teams to implement user interfaces and features.\nRegularly review the design system and propose improvements and updates, including new components or features.\nWrite clean, maintainable code and adhere to best practices in software development.\nParticipate in code reviews and provide constructive feedback to other team members.\nImplement automated tests to ensure functionality and maintain high quality.\nTroubleshoot and debug issues to ensure smooth performance of our applications.\nStay up-to-date with the latest trends and technologies in web development.\nYour Mission\nContinually enhance your proficiency in React, TypeScript, CSS, HTML, and architectural design and implementation.\nStrive to be an exceptional team member, focusing on the development of high-quality, maintainable, and scalable features.\nCollaborate closely with the Lead Engineer to define requirements, develop implementation plans, establish timelines, work with designers, create visually appealing elements, integrate with backend APIs, manage application state, and conduct thorough testing before release.\nWork in synergy with the engineering, product, and design teams to set objectives and design functional, cohesive code that enhances the user experience.\nEngage in ongoing education and training to stay updated on industry best practices and learn new programming languages.\nUphold a high standard of quality and reliability in the product performance.\nEnsure the quality of the product through scalable automated and manual testing methodologies.\nWhat Skills and Experience You Should Bring\nWorking understanding of React, Typescript, HTML, CSS, Git, REST APIs, UI testing (end to end and unit testing)\nNice to have understanding: Component libraries and other open-source projects, Functional Programming, UI/UX design, NodeJS, SQL, relational databases, design, utilizing a debugger\nFullstack development with Java/.Net technology would be a plus\nFamiliarity with graphic design applications such as Figma, InVision, Adobe XD, Sketch, etc.\nWorking understanding of the Agile development cycle & programming techniques & tools for modern Web-based applications.\nFocus on efficiency, user experience, & process improvement\nExcellent project & time management skills\nStrong problem solving, verbal & written communication skills\nWithin the first month, you will\nUnderstand high-level freight workflows\nUnderstand high-level technical architecture and capabilities\nGet to know teammates and understand current workflow\nGet familiar with code structure and deployment practices\nBegin tandem development with the current team on small features\nIdentify goals, key metrics, and plans to achieve them\nWithin the first 3 months, you will\nBe comfortable navigating and manipulating the codebase\nBe able to take feature requests and work with the Lead Engineer to create specs and timelines\nBe able to influence architectural decisions with the help of the engineering team\nWithin the first 6 months, you will\nMake consistent, meaningful contributions to the frontend codebase\nIndependently work with the product manager to design, build and deploy larger features\nHave a great understanding of the codebase as you continue to grow and expand in your role as Front-End Engineer\nGrow your career personally and professionally\n-\nPay Equity\n-\nTrimble provides the following compensation range and general description of other compensation and benefits that it in good faith believes it might pay and/or offer for this position. This compensation range is based on a full time schedule. Trimble reserves the right to ultimately pay more or less than the posted range and offer additional benefits and other compensation, depending on circumstances not related to an applicant's sex or other status protected by local, state, or federal law.\n-\nHiring Range:\n115700\n-\n156100\n-\nBonus Eligible?\nYes\n-\nTrimble offers comprehensive core benefits that include Medical, Dental, Vision, Life, Disability, Time off plans and retirement plans. Most of our businesses also offer tax savings plans for health, dependent care and commuter expenses as well as Paid Parental Leave and Employee Stock Purchase Plan.\n-\nTrimble is proud to be an equal opportunity employer. We welcome and embrace our\ncandidates' diversity and take affirmative action to employ and advance individuals\nwithout regard to race, color, sex, gender identity or expression, sexual orientation,\nreligion, age, physical or mental disability, veteran status, pregnancy (including\nchildbirth or related medical conditions), national origin, marital status, genetic\ninformation, and all other legally protected characteristics. We forbid discrimination and\nharassment in the workplace based on any protected status or characteristic. A criminal\nhistory is not an automatic bar to employment with the Company, and we consider\nqualified applicants consistent with applicable federal, state, and local law.\nThe Company is also committed to providing reasonable accommodations for\nindividuals with disabilities, and individuals with sincerely held religious beliefs in our job\napplication procedures. If you need assistance or an accommodation for your job,  contact",
        "id": "dice_6f2250fb-5309-4308-ac8d-acc93878faf3",
        "title": "Senior Software Engineer",
    },
    {
        "company_link": "https://www.dice.com/company/101054TS?companyname=TEKsystems%20c%2Fo%20Allegis%20Group",
        "location": "Remote or Downers Grove, Illinois, USA",
        "timestamp": "2024-07-18 22:12:43.220396",
        "posted_date": "Posted 9 hours ago",
        "employment_type": "Full-time",
        "company_image": "https://assets.dice.com/external/images/empLogos/313d6470c642f8bad83efdf8d3ee20ff.png",
        "company": "TEKsystems c/o Allegis Group",
        "link": "https://www.dice.com/job-detail/3ccf16bc-be70-4f7d-b382-b641084fb3b3",
        "description": "Descriptio\nSoftware Engineer. W2. CAD and Three.JS. REMOTE.\nTop Skills' Details\n1. CAD\n2. Three.JS\n3. Typescript\nNice to have: GLTF\nLooking for candidates with CAD data rendering.\nOpen to talk to candidates with OpenGL experience but must have CAD rendering experience. 50/50, or 70% CAD, 30% ThreeJS.\nIf someone has a great experience in rendering large assemblies in CAD, but 5-10% ThreeJS that's ok,\nSkills:\nThree.js, React, CAD, 3D Visulization, dassault systems solidworks, autodesk, cad data, react.js, angularjs, opengl\nAbout TEKsystems:\nWe're partners in transformation. We help clients activate ideas and solutions to take advantage of a new world of opportunity. We are a team of 80,000 strong, working with over 6,000 clients, including 80% of the Fortune 500, across North America, Europe and Asia. As an industry leader in Full-Stack Technology Services, Talent Services, and real-world application, we work with progressive leaders to drive change. That's the power of true partnership. TEKsystems is an Allegis Group company.\nThe company is an equal opportunity employer and will consider all applications without regards to race, sex, age, color, religion, national origin, veteran status, disability, sexual orientation, gender identity, genetic information or any characteristic protected by law.",
        "id": "dice_3ccf16bc-be70-4f7d-b382-b641084fb3b3",
        "title": "Software Engineer (CAD, Three.JS)- Remote, W2",
    },
]


class JobListing(BaseModel):
    id: str
    category: str
    explanation: str


class CategorizedListings(BaseModel):
    listings: List[JobListing]


def get_prompt(job_listings_json):
    return f"""You are tasked with categorizing job listings based on a specific job requirement profile. Here's the profile and categorization system:

Job Requirement Profile:
- Ideal Job Title: Senior/Staff/Principal Software Engineer or Technical Lead (Frontend, Backend, or Full Stack)
- Key Technical Skills: Web development (senior or staff level), Full stack development (senior or staff level), AI or Machine Learning (mid to senior level), LLM (any level)
- Work Arrangement: Fully remote (required)
- Experience Requirement: At least 5 years of experience (indicative of senior level)
- Flexible Criteria: No specific requirements for salary, industry, or company size

Categorization System:

1. Ideal Match:
   - Matches job title (Senior Software Engineer, including frontend/backend/full stack)
   - Requires senior-level web or full stack development skills
   - Fully remote
   - Requires at least 5 years of experience

2. Strong Potential:
   - Similar job title (e.g., Lead Developer, Software Architect)
   - Requires senior-level development skills
   - Fully remote
   - Requires at least 5 years of experience

3. Worth Considering:
   - Related job title
   - Requires web or full stack development skills or AI/ML skills (not necessarily senior level)
   - Fully remote
   - May not explicitly state 5 years of experience, but implies senior-level experience

4. Not Suitable:
   - Unrelated job title
   - Does not require web or full stack development skills
   - Not fully remote
   - Requires less than 5 years of experience or entry-level position

Instructions:
1. You will be provided with a list of job listings in JSON format.
2. For each job listing, analyze the information provided and categorize it according to the system above.
3. If a listing doesn't explicitly mention all criteria, make a reasonable inference based on the available information.
4. Create a summary for each listing, including:
   - Job title
   - Company
   - Category (Ideal Match, Strong Potential, Worth Considering, or Not Suitable)
   - Brief explanation for the categorization

5. Present your results in the following format:

<categorized_listings>
<listing>
<id>[Job ID]</id>
<category>[Category]</category>
<explanation>[Brief explanation for categorization]</explanation>
</listing>
[Repeat for each job listing]
</categorized_listings>

Here are the job listings to categorize:

<job_listings>
{job_listings_json}
</job_listings>

Analyze each listing and provide your categorization as instructed above."""
